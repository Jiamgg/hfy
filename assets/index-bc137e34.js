import{s as p}from"./index-93ce57eb.js";import{_ as L,u as T,q as U,n as $,a,s as F,o as i,c as d,b as s,w as c,t as V,d as t,v as r,e as y,F as k,g as I,x as R,h as x,p as z,l as E}from"./index-062c680d.js";function H(o){return p({url:"/Shop/GetShop?id="+o,method:"get"})}function M(o){return p({url:"/Product/GetProductListPublic?count=30&page=1&shopid="+o,method:"get"})}function j(o){return p({url:"/Tag/GetGouTag?shopid="+o,method:"get"})}function A(o,h){return p({url:`/Product/GetProductListPublic?count=30&page=1&shopid=${o}&tagid=${h}`,method:"get"})}const m=o=>(z("data-v-09a30802"),o=o(),E(),o),J={class:"headBlock"},K={class:"top"},O=["src"],Q={class:"bottom"},W={class:"left"},X=m(()=>t("span",null,"商品",-1)),Y={class:"right"},Z=m(()=>t("span",null,"粉丝",-1)),ee=m(()=>t("p",null,"商品列表",-1)),te={key:0},oe=["onClick"],ne=["src"],le={class:"price colorff4466"},se={class:"ovhd"},ae={__name:"index",setup(o){const h=T(),u=U(),e=$({headDetail:[],headImage:{},headUrlImage:"",listDetail:[],asideDetail:[],loading:!0}),g=()=>{M(u.query.id).then(({Data:n})=>{e.listDetail=n,e.loading=!1})};g(),H(u.query.id).then(({Data:n})=>{e.headDetail=n,e.headImage=n.MainBgSrc,e.headUrlImage=n.User.HeadUrl}),j(u.query.id).then(({Data:n})=>{e.asideDetail=n[0].PubChilds});const C=n=>{e.loading=!0,A(u.query.id,n).then(({Data:_})=>{e.listDetail=_,e.loading=!1})},P=n=>{const _=h.resolve({name:"Comment",query:{id:n}});window.open(_.href)};return(n,_)=>{const f=a("el-divider"),G=a("el-header"),v=a("el-link"),S=a("el-aside"),b=a("el-tooltip"),w=a("el-empty"),N=a("el-main"),D=a("el-container"),q=F("loading");return i(),d("div",null,[s(D,null,{default:c(()=>[s(G,{style:V({backgroundImage:`url(${e.headImage})`})},{default:c(()=>[t("div",J,[t("div",K,[t("img",{src:e.headUrlImage,alt:""},null,8,O),t("span",null,r(e.headDetail.Name),1)]),t("div",Q,[t("div",W,[t("i",null,r(e.headDetail.ProductCount),1),X]),s(f,{direction:"vertical"}),t("div",Y,[t("i",null,r(e.headDetail.FollowCount),1),Z])])])]),_:1},8,["style"]),s(D,null,{default:c(()=>[s(S,{width:"200px"},{default:c(()=>[ee,s(f),t("p",null,[s(v,{underline:!1,onClick:g},{default:c(()=>[y("全部商品")]),_:1})]),t("ul",null,[(i(!0),d(k,null,I(e.asideDetail,l=>(i(),d("li",{key:l.ID},[s(v,{underline:!1,onClick:B=>C(l.ID)},{default:c(()=>[y(r(l.TagName),1)]),_:2},1032,["onClick"])]))),128))])]),_:1}),R((i(),x(N,null,{default:c(()=>[e.listDetail.length>=1?(i(),d("ul",te,[(i(!0),d(k,null,I(e.listDetail,l=>(i(),d("li",{key:l.ID,onClick:B=>P(l.ID),style:{cursor:"pointer"}},[t("img",{src:l.FaceSrc,alt:""},null,8,ne),t("p",le,"￥"+r(l.Price),1),s(b,{class:"box-item",effect:"dark",content:l.Name,placement:"top-start"},{default:c(()=>[t("p",se,r(l.Name),1)]),_:2},1032,["content"])],8,oe))),128))])):(i(),x(w,{key:1,description:"暂无商品"}))]),_:1})),[[q,e.loading]])]),_:1})]),_:1})])}}},de=L(ae,[["__scopeId","data-v-09a30802"]]);export{de as default};
