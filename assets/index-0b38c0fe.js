import{A as K,B as Q,r as a,C as T,f as z,_ as Z,q as ee,n as $,a as b,o as _,c as m,b as k,w as x,d as n,x as R,z as F,s as G,t as O,F as C,g as E,h as V,y as te,D as se,G as ne,p as oe,l as le}from"./index-365a55f3.js";import{r as W}from"./index-47b51506.js";const ae=typeof window<"u",ue=e=>typeof e=="string",B=()=>{};function ce(e){K()&&Q(e)}const H=ae?window:void 0;function ie(e){var c,u;const t=z(e);return(u=(c=t)===null||c===void 0?void 0:c.$el)!==null&&u!==void 0?u:t}function N(...e){let c,u,t,o;if(ue(e[0])?([u,t,o]=e,c=H):[c,u,t,o]=e,!c)return B;let i=B;const v=T(()=>z(c),r=>{i(),r&&(r.addEventListener(u,t,o),i=()=>{r.removeEventListener(u,t,o),i=B})},{immediate:!0,flush:"post"}),p=()=>{v(),i()};return ce(p),p}function re(e={}){const{touch:c=!0,resetOnTouchEnds:u=!1,initialValue:t={x:0,y:0},window:o=H}=e,i=a(t.x),v=a(t.y),p=a(null),r=d=>{i.value=d.pageX,v.value=d.pageY,p.value="mouse"},h=()=>{i.value=t.x,v.value=t.y},f=d=>{d.touches.length>0&&(i.value=d.touches[0].clientX,v.value=d.touches[0].clientY,p.value="touch")};return o&&(N(o,"mousemove",r,{passive:!0}),c&&(N(o,"touchstart",f,{passive:!0}),N(o,"touchmove",f,{passive:!0}),u&&N(o,"touchend",h,{passive:!0}))),{x:i,y:v,sourceType:p}}function de(e,c={}){const{handleOutside:u=!0,window:t=H}=c,{x:o,y:i,sourceType:v}=re(c),p=a(e!=null?e:t==null?void 0:t.document.body),r=a(0),h=a(0),f=a(0),d=a(0),g=a(0),y=a(0),w=a(!1);let P=()=>{};return t&&(P=T([p,o,i],()=>{const S=ie(p);if(!S)return;const{left:s,top:I,width:M,height:X}=S.getBoundingClientRect();f.value=s+t.pageXOffset,d.value=I+t.pageYOffset,g.value=X,y.value=M;const D=o.value-f.value,L=i.value-d.value;w.value=D<0||L<0||D>y.value||L>g.value,(u||!w.value)&&(r.value=D,h.value=L)},{immediate:!0})),{x:o,y:i,sourceType:v,elementX:r,elementY:h,elementPositionX:f,elementPositionY:d,elementHeight:g,elementWidth:y,isOutside:w,stop:P}}var q;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(q||(q={}));const U=e=>(oe("data-v-8cbfc03e"),e=e(),le(),e),ve={class:"box"},_e=U(()=>n("h2",null,"评论区",-1)),pe={class:"oneDiv"},fe=["src"],me={style:{width:"100%"}},he=U(()=>n("h3",{class:"colorff4466"},"品牌描述：",-1)),ge=["innerHTML"],ye=U(()=>n("h3",{class:"colorff4466"},"商品展示：",-1)),Ie=["src"],be={class:"twoDiv"},ke=["src","onClick"],xe={key:0},we={class:"headerBox"},De={class:"headerLeft"},Le=["src"],Pe={class:"headerRight"},Xe={key:0},Ye=["src"],Ce=["src"],Ee={__name:"index",setup(e){const c=ee(),u=a([]),t=a([]),o=a(""),i=a(),v=a(""),p=a("http://pic.hanfugou.com/web/2020/4/11/19/08132c01396947bcb382af4f34634df3.jpeg"),r=a(!1),h=$({top:0,left:0}),f=$({backgroundPositionX:0,backgroundPositionY:0}),d=a(null),{elementX:g,elementY:y,isOutside:w}=de(d);T([g,y,w],()=>{r.value=!w.value;const s={X:0,Y:0};g.value<100?s.X=0:g.value>250?s.X=150:s.X=g.value-100,y.value<100?s.Y=0:y.value>300?s.Y=200:s.Y=y.value-100,h.left=s.X+"px",h.top=s.Y+"px",f.backgroundPositionX=-2*s.X+"px",f.backgroundPositionY=-2*s.Y+"px"});const P=()=>{i.value=te.service({lock:!0,text:"Loading"})};return(()=>{P(),W("get",`/Product/GetProductPublic?id=${c.query.id}`).then(s=>{o.value=s.data.Data.Banners[0].ImgSrc,v.value=s.data.Data.Banners[0].ID,u.value=s.data.Data}),W("get",`/ProductComment/GetProductCommentList?role=20&productid=${c.query.id}`).then(s=>{t.value=s.data.Data,i.value.close()})})(),(s,I)=>{const M=b("el-header"),X=b("el-divider"),D=b("el-tab-pane"),L=b("el-popover"),j=b("el-empty"),A=b("el-tabs"),J=b("el-main");return _(),m("div",ve,[k(M,null,{default:x(()=>[_e]),_:1}),k(J,null,{default:x(()=>[n("div",pe,[n("div",{ref_key:"target",ref:d,class:"middleImage",onMouseenter:I[0]||(I[0]=l=>r.value=!0),onMouseleave:I[1]||(I[1]=l=>r.value=!1),onMousemove:I[2]||(I[2]=(...l)=>s.handleMouseMove&&s.handleMouseMove(...l))},[n("img",{src:o.value||p.value,alt:""},null,8,fe),R(n("div",{class:"layer",style:G(h)},null,4),[[F,r.value]])],544),R(n("div",{class:"glassLook",style:G([{backgroundImage:`url(${o.value})`},f])},null,4),[[F,r.value]]),k(X,{direction:"vertical"}),n("div",me,[k(A,{type:"border-card"},{default:x(()=>[n("h3",null,O(u.value.Name),1),k(D,{label:"商品详情"},{default:x(()=>[he,n("p",{innerHTML:u.value.Describe},null,8,ge),ye,n("div",null,[(_(!0),m(C,null,E(u.value.Images,l=>(_(),m("img",{src:l.ImgSrc,alt:"",key:l.ID,class:"commodity",style:{display:"block"}},null,8,Ie))),128))])]),_:1}),k(D,{label:"评论"},{default:x(()=>[n("div",be,[(_(!0),m(C,null,E(u.value.Banners,l=>(_(),m("img",{src:l.ImgSrc,alt:"",key:l.ID,onClick:Y=>(o.value=l.ImgSrc,v.value=l.ID),class:se({pitchStyle:v.value==l.ID})},null,10,ke))),128))]),t.value.length>=1?(_(),m("ul",xe,[(_(!0),m(C,null,E(t.value,l=>(_(),m("li",{key:l.ID},[n("div",we,[n("div",De,[n("img",{src:l.UserHeadUrl,alt:""},null,8,Le),n("span",null,O(l.UserNickName),1)]),n("div",Pe,[n("p",null,O(l.Content),1),l.Images.length>=1?(_(),m("div",Xe,[(_(!0),m(C,null,E(l.Images,Y=>(_(),V(L,{placement:"bottom",width:400,trigger:"hover",key:Y.ID},{reference:x(()=>[n("img",{src:Y.ImgSrc,alt:""},null,8,Ye)]),default:x(()=>[n("img",{src:Y.ImgSrc,alt:"",style:{width:"400px",height:"400px"}},null,8,Ce)]),_:2},1024))),128))])):ne("",!0)])]),k(X)]))),128))])):(_(),V(j,{key:1,description:"暂无评论"}))]),_:1})]),_:1})])])]),_:1})])}}},Me=Z(Ee,[["__scopeId","data-v-8cbfc03e"]]);export{Me as default};
