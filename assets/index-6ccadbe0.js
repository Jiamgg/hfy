import{A as G,B as z,r as o,C as O,f as W,_ as j,q as A,n as M,a as Y,o as y,c as I,b,w as S,d as i,x as T,z as U,s as $,e as J,t as E,F as H,g as F,h as K,y as Q,D as Z,p as ee,l as te}from"./index-6b169b34.js";import{r as R}from"./index-822a0e63.js";const ne=typeof window<"u",se=e=>typeof e=="string",N=()=>{};function oe(e){G()&&z(e)}const B=ne?window:void 0;function le(e){var l,a;const t=W(e);return(a=(l=t)===null||l===void 0?void 0:l.$el)!==null&&a!==void 0?a:t}function C(...e){let l,a,t,s;if(se(e[0])?([a,t,s]=e,l=B):[l,a,t,s]=e,!l)return N;let u=N;const v=O(()=>W(l),c=>{u(),c&&(c.addEventListener(a,t,s),u=()=>{c.removeEventListener(a,t,s),u=N})},{immediate:!0,flush:"post"}),p=()=>{v(),u()};return oe(p),p}function ae(e={}){const{touch:l=!0,resetOnTouchEnds:a=!1,initialValue:t={x:0,y:0},window:s=B}=e,u=o(t.x),v=o(t.y),p=o(null),c=d=>{u.value=d.pageX,v.value=d.pageY,p.value="mouse"},m=()=>{u.value=t.x,v.value=t.y},f=d=>{d.touches.length>0&&(u.value=d.touches[0].clientX,v.value=d.touches[0].clientY,p.value="touch")};return s&&(C(s,"mousemove",c,{passive:!0}),l&&(C(s,"touchstart",f,{passive:!0}),C(s,"touchmove",f,{passive:!0}),a&&C(s,"touchend",m,{passive:!0}))),{x:u,y:v,sourceType:p}}function ue(e,l={}){const{handleOutside:a=!0,window:t=B}=l,{x:s,y:u,sourceType:v}=ae(l),p=o(e!=null?e:t==null?void 0:t.document.body),c=o(0),m=o(0),f=o(0),d=o(0),_=o(0),h=o(0),x=o(!1);let P=()=>{};return t&&(P=O([p,s,u],()=>{const D=le(p);if(!D)return;const{left:n,top:g,width:L,height:X}=D.getBoundingClientRect();f.value=n+t.pageXOffset,d.value=g+t.pageYOffset,_.value=X,h.value=L;const k=s.value-f.value,w=u.value-d.value;x.value=k<0||w<0||k>h.value||w>_.value,(a||!x.value)&&(c.value=k,m.value=w)},{immediate:!0})),{x:s,y:u,sourceType:v,elementX:c,elementY:m,elementPositionX:f,elementPositionY:d,elementHeight:_,elementWidth:h,isOutside:x,stop:P}}var V;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(V||(V={}));const q=e=>(ee("data-v-23a13e7d"),e=e(),te(),e),ie={class:"box"},ce=q(()=>i("h2",null,"评论区",-1)),re={class:"oneDiv"},de=["src"],ve=q(()=>i("span",null,"商品名称：",-1)),pe={class:"twoDiv"},fe=["src","onClick"],me={key:0},_e={class:"headerBox"},he={class:"headerLeft"},ge=["src"],ye={__name:"index",setup(e){const l=A(),a=o([]),t=o([]),s=o(""),u=o(),v=o(""),p=o("http://pic.hanfugou.com/web/2020/4/11/19/08132c01396947bcb382af4f34634df3.jpeg"),c=o(!1),m=M({top:0,left:0}),f=M({backgroundPositionX:0,backgroundPositionY:0}),d=o(null),{elementX:_,elementY:h,isOutside:x}=ue(d);O([_,h,x],()=>{c.value=!x.value;const n={X:0,Y:0};_.value<100?n.X=0:_.value>250?n.X=150:n.X=_.value-100,h.value<100?n.Y=0:h.value>300?n.Y=200:n.Y=h.value-100,m.left=n.X+"px",m.top=n.Y+"px",f.backgroundPositionX=-2*n.X+"px",f.backgroundPositionY=-2*n.Y+"px"});const P=()=>{u.value=Q.service({lock:!0,text:"Loading"})};return(()=>{P(),R("get",`/Product/GetProductPublic?id=${l.query.id}`).then(n=>{s.value=n.data.Data.Banners[0].ImgSrc,v.value=n.data.Data.Banners[0].ID,a.value=n.data.Data}),R("get",`/ProductComment/GetProductCommentList?role=20&productid=${l.query.id}`).then(n=>{t.value=n.data.Data,u.value.close()})})(),(n,g)=>{const L=Y("el-header"),X=Y("el-divider"),k=Y("el-empty"),w=Y("el-main");return y(),I("div",ie,[b(L,null,{default:S(()=>[ce]),_:1}),b(w,null,{default:S(()=>[i("div",re,[i("div",{ref_key:"target",ref:d,class:"middleImage",onMouseenter:g[0]||(g[0]=r=>c.value=!0),onMouseleave:g[1]||(g[1]=r=>c.value=!1),onMousemove:g[2]||(g[2]=(...r)=>n.handleMouseMove&&n.handleMouseMove(...r))},[i("img",{src:s.value||p.value,alt:""},null,8,de),T(i("div",{class:"layer",style:$(m)},null,4),[[U,c.value]])],544),T(i("div",{class:"glassLook",style:$([{backgroundImage:`url(${s.value})`},f])},null,4),[[U,c.value]]),b(X,{direction:"vertical"}),i("div",null,[i("p",null,[ve,J(" "+E(a.value.Name),1)]),i("div",pe,[(y(!0),I(H,null,F(a.value.Banners,r=>(y(),I("img",{src:r.ImgSrc,alt:"",key:r.ID,onClick:xe=>(s.value=r.ImgSrc,v.value=r.ID),class:Z({pitchStyle:v.value==r.ID})},null,10,fe))),128))]),t.value.length>=1?(y(),I("ul",me,[(y(!0),I(H,null,F(t.value,r=>(y(),I("li",{key:r.ID},[i("div",_e,[i("div",he,[i("img",{src:r.UserHeadUrl,alt:""},null,8,ge),i("span",null,E(r.UserNickName),1)]),i("p",null,E(r.Content),1)]),b(X)]))),128))])):(y(),K(k,{key:1,description:"暂无评论"}))])])]),_:1})])}}},we=j(ye,[["__scopeId","data-v-23a13e7d"]]);export{we as default};
