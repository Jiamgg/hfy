import{s as u}from"./index-51a74c78.js";import{_ as q,u as T,q as U,n as F,a,s as V,o as i,c as d,b as n,w as c,t as $,d as t,v as r,e as D,F as k,g as y,x as R,h as I,p as z,l as E}from"./index-f4a9a0c5.js";const H=o=>u({url:"/Shop/GetShop?id="+o,method:"get"}),M=o=>u({url:"/Product/GetProductListPublic?count=100&page=1&shopid="+o,method:"get"}),j=o=>u({url:"/Tag/GetGouTag?shopid="+o,method:"get"}),A=o=>u({url:"/Product/GetProductListPublic?count=300&page=1&shopid=1936&tagid="+o,method:"get"});const h=o=>(z("data-v-aa95450d"),o=o(),E(),o),J={class:"headBlock"},K={class:"top"},O=["src"],Q={class:"bottom"},W={class:"left"},X=h(()=>t("span",null,"商品",-1)),Y={class:"right"},Z=h(()=>t("span",null,"粉丝",-1)),ee=h(()=>t("p",null,"商品列表",-1)),te={key:0},oe=["onClick"],le=["src"],se={class:"price colorff4466"},ne={class:"ovhd"},ae={__name:"index",setup(o){const x=T(),p=U(),e=F({headDetail:[],headImage:{},headUrlImage:"",listDetail:[],asideDetail:[],loading:!0}),m=()=>{M(p.query.id).then(({Data:l})=>{e.listDetail=l,e.loading=!1})};m(),H(p.query.id).then(({Data:l})=>{e.headDetail=l,e.headImage=l.MainBgSrc,e.headUrlImage=l.User.HeadUrl}),j(p.query.id).then(({Data:l})=>{e.asideDetail=l[0].PubChilds});const C=l=>{e.loading=!0,A(l).then(({Data:_})=>{e.listDetail=_,e.loading=!1})},P=l=>{const _=x.resolve({name:"Comment",query:{id:l}});window.open(_.href)};return(l,_)=>{const g=a("el-divider"),G=a("el-header"),v=a("el-link"),S=a("el-aside"),b=a("el-tooltip"),w=a("el-empty"),N=a("el-main"),f=a("el-container"),B=V("loading");return i(),d("div",null,[n(f,null,{default:c(()=>[n(G,{style:$({backgroundImage:`url(${e.headImage})`})},{default:c(()=>[t("div",J,[t("div",K,[t("img",{src:e.headUrlImage,alt:""},null,8,O),t("span",null,r(e.headDetail.Name),1)]),t("div",Q,[t("div",W,[t("i",null,r(e.headDetail.ProductCount),1),X]),n(g,{direction:"vertical"}),t("div",Y,[t("i",null,r(e.headDetail.FollowCount),1),Z])])])]),_:1},8,["style"]),n(f,null,{default:c(()=>[n(S,{width:"200px"},{default:c(()=>[ee,n(g),t("p",null,[n(v,{underline:!1,onClick:m},{default:c(()=>[D("全部商品")]),_:1})]),t("ul",null,[(i(!0),d(k,null,y(e.asideDetail,s=>(i(),d("li",{key:s.ID},[n(v,{underline:!1,onClick:L=>C(s.ID)},{default:c(()=>[D(r(s.TagName),1)]),_:2},1032,["onClick"])]))),128))])]),_:1}),R((i(),I(N,null,{default:c(()=>[e.listDetail.length>=1?(i(),d("ul",te,[(i(!0),d(k,null,y(e.listDetail,s=>(i(),d("li",{key:s.ID,onClick:L=>P(s.ID),style:{cursor:"pointer"}},[t("img",{src:s.FaceSrc,alt:""},null,8,le),t("p",se,"￥"+r(s.Price),1),n(b,{class:"box-item",effect:"dark",content:s.Name,placement:"top-start"},{default:c(()=>[t("p",ne,r(s.Name),1)]),_:2},1032,["content"])],8,oe))),128))])):(i(),I(w,{key:1,description:"暂无商品"}))]),_:1})),[[B,e.loading]])]),_:1})]),_:1})])}}},de=q(ae,[["__scopeId","data-v-aa95450d"]]);export{de as default};
